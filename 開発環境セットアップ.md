# 🚀 SuperClaude開発環境セットアップ

**これだけ見れば全て分かる！**  
**更新日**: 2025年9月3日

---

## ⚡ 開発開始前の3ステップ

### **Step 1: 環境確認 (30秒)**
```bash
claude --version
# 期待値: 1.0.102 (Claude Code)
```

### **Step 2: プロジェクトタイプを選ぶ**

#### **🎯 新機能開発**
```bash
claude code --think --task-manage
```

#### **🔧 既存コード修正・リファクタリング**
```bash
claude code --think-hard --validate
```

#### **🎨 UI作成**
```bash
claude code --magic --browser
```

#### **🆘 緊急対応・バグ修正**
```bash
claude code --uc --safe-mode
```

### **Step 3: 作業開始**
上記のコマンドをClaude Codeに投げて「○○を作って」と伝える

---

## 📋 現在の環境構成

### **✅ 稼働中**
- **Claude Code**: v1.0.102
- **SuperClaude Framework**: v4.0.8 (自動読み込み)
- **MCPサーバー**: 5個稼働中
- **Sentry**: sap-project-frontend 監視中
- **GitHub Actions**: CDK自動デプロイ対応

### **🎛️ 利用可能なツール**
- **ファイル操作**: 高速読み書き・検索
- **ブラウザ自動化**: テスト・スクリーンショット
- **GitHub操作**: PR作成・コードレビュー
- **知識管理**: セッション記録・学習内容保存
- **構造化分析**: 複雑問題の体系的分解

---

## 🔧 新プロジェクト開始手順

### **Step 1: プロジェクトフォルダ作成**
```bash
# 1. プロジェクト管理フォルダに移動
cd "C:\Users\tsail\Documents\00_プロジェクト管理"

# 2. 新フォルダ作成 (番号は既存+1)
mkdir "03_新プロジェクト名"
cd "03_新プロジェクト名"

# 3. 基本フォルダ作成
mkdir "認証情報" "設定" "メモ"

# 4. デスクトップに開発フォルダ作成
cd "C:\Users\tsail\Desktop"
mkdir "新プロジェクト名"
cd "新プロジェクト名"
git init
git branch -M main
```

### **Step 2: GitHub Actions設定が必要？**
AWS CDKを使う場合は設定推奨

#### **GitHub Actions 自動設定手順**
```bash
# 1. .github/workflowsフォルダ作成
mkdir -p .github/workflows

# 2. デプロイワークフロー作成
cat > .github/workflows/deploy.yml << 'EOF'
name: Deploy to AWS
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 18
      - run: npm install
      - run: npm run build
      - run: npm run deploy
        env:
          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
EOF

# 3. GitHubシークレット設定が必要
# GitHub Repository > Settings > Secrets で以下を設定:
# - AWS_ACCESS_KEY_ID
# - AWS_SECRET_ACCESS_KEY
```

### **Step 3: Sentry設定が必要？**
エラー監視が必要な場合は設定推奨

#### **Sentry 自動設定手順**
```bash
# 1. Sentry SDK インストール
npm install @sentry/react @sentry/tracing

# 2. 設定ファイル作成
cat > src/sentry.js << 'EOF'
import * as Sentry from "@sentry/react";
import { Integrations } from "@sentry/tracing";

Sentry.init({
  dsn: process.env.REACT_APP_SENTRY_DSN,
  integrations: [
    new Integrations.BrowserTracing(),
  ],
  tracesSampleRate: 1.0,
});
EOF

# 3. 環境変数設定
echo "REACT_APP_SENTRY_DSN=your-sentry-dsn-here" >> .env

# 4. Sentryプロジェクト作成
# https://tsailink-dev.sentry.io で新プロジェクト作成
# DSNを取得して .env に設定
```

### **Step 4: AWS CDK設定が必要？**
AWSリソースを使う場合は設定推奨

#### **CDK 自動設定手順**
```bash
# 1. CDKフォルダ作成
mkdir cdk && cd cdk

# 2. CDKプロジェクト初期化
npx cdk init app --language typescript

# 3. 環境変数設定
cat > .env << 'EOF'
CDK_DEFAULT_ACCOUNT=123456789012
CDK_DEFAULT_REGION=ap-northeast-1
PROJECT_NAME=your-project-name
VITE_SENTRY_DSN=your-sentry-dsn
LINE_NOTIFY_TOKEN=your-line-token
EOF

# 4. 標準インフラ構成
# - S3 Bucket (静的ホスティング)
# - CloudFront (CDN)
# - API Gateway (REST API) 
# - Lambda (ビジネスロジック)
# - IAM (最小権限)
# - CloudWatch (監視)

# 5. デプロイ実行
cdk bootstrap
cdk deploy
```

---

## 📊 プロジェクト判断ガイド

### **🤔 どの設定が必要？**

| プロジェクトタイプ | GitHub Actions | Sentry | AWS CDK |
|---|:---:|:---:|:---:|
| 個人練習アプリ | ❌ | ❌ | ❌ |
| 本格Webアプリ | ⭕ | ⭕ | ⭕ |
| 企業プロジェクト | ⭕ | ⭕ | ⭕ |
| プロトタイプ | ❌ | ❌ | ❓ |

### **💡 迷ったら聞いてください**
Claude Codeに以下のように質問：
```
"○○のプロジェクトを作りたいです。GitHub Actions、Sentry、AWS CDKは必要でしょうか？"
```

---

## 🔐 認証情報テンプレート

### **新プロジェクト用認証情報ファイル**
```
=== プロジェクト名 - すべての認証情報 ===

【GitHub】
- Repository: username/project-name  
- Personal Access Token: ghp_xxxxxxxxxxxxxxxx

【AWS】(CDK使用時)
- Account ID: 123456789012
- Region: ap-northeast-1
- Access Key ID: AKIAXXXXXXXXXXXXXXXX
- Secret Access Key: [シークレット]

【Sentry】(エラー監視使用時)
- Organization: tsailink-dev
- Project Name: project-name
- DSN: https://xxxxxxxxx@sentry.io/xxxxxxx

【LINE Notify】(通知使用時) 
- Token: [専用トークン]

【その他】
- Domain: [独自ドメイン使用時]
- API Keys: [外部サービス連携用]

※ 具体的な値は環境変数で管理
```

---

## 💰 コスト目安

### **月額予想コスト（東京リージョン）**
```
【個人プロジェクト】
基本インフラのみ:           月額 $5.00
基本インフラ + Sentry:     月額 $31.00

【企業プロジェクト】  
フル構成:                 月額 $50.00〜
```

---

## ⚠️ やってはいけないこと

```bash
❌ git checkout main で直接作業
❌ 認証情報をコードに書く  
❌ フラグなしで複雑な作業開始
❌ 本番環境で直接テスト

✅ git checkout -b feature/機能名
✅ 環境変数で認証情報管理
✅ 適切なフラグで効率化
✅ ステージング環境でテスト
```

---

## 🆘 困ったとき

### **動作がおかしい**
```bash
claude config list    # 設定確認
claude --version      # バージョン確認
```

### **MCPサーバーエラー**
```bash
claude config reload  # 設定リロード
```

### **GitHub Actions失敗**
```bash
# リポジトリのActions画面確認
# https://github.com/username/repo-name/actions

# シークレット設定確認
# Repository > Settings > Secrets and variables > Actions
```

### **Sentryでエラーが出ない**
```bash
# DSN設定確認
echo $REACT_APP_SENTRY_DSN

# プロジェクト設定確認
# https://tsailink-dev.sentry.io
```

### **CDKデプロイ失敗**
```bash
# AWS認証確認
aws sts get-caller-identity

# CDK設定確認
cdk doctor

# ブートストラップ確認
cdk bootstrap aws://123456789012/ap-northeast-1
```

### **フラグがわからない**
- **簡単な作業**: フラグなし
- **普通の開発**: `--think`
- **複雑な作業**: `--think-hard`
- **緊急時**: `--uc --safe-mode`

---

## 📚 便利コマンド集

### **環境確認**
```bash
claude --version
claude config list
git status
git branch
node --version
npm --version
```

### **プロジェクト作成**
```bash
cd "C:\Users\tsail\Documents\00_プロジェクト管理"
mkdir "03_新プロジェクト名"
cd "03_新プロジェクト名"
mkdir "認証情報" "設定" "メモ"
```

### **開発開始**
```bash
cd "C:\Users\tsail\Desktop"
mkdir "新プロジェクト名"
cd "新プロジェクト名"
git init
npm init -y
```

### **トラブル対応**
```bash
claude config reload
git status
npm install
cdk doctor
```

---

## 🎭 ペルソナ自動選択システム

SuperClaudeは、あなたの依頼内容から**最適な専門家ペルソナを自動選択**します。

### **6大ペルソナ（自動判定）**

| キーワード | ペルソナ | 専門分野 | 自動で提供される価値 |
|-----------|---------|----------|--------------------|
| **デプロイ、監視、エラー** | **SRE** | 運用・障害対応 | システム安定性重視の実装 |
| **セキュリティ、脆弱性** | **Security** | セキュリティ専門家 | 脆弱性を徹底的にチェック |
| **レビュー、PR、品質** | **Reviewer** | コードレビュアー | 品質・保守性を厳格に評価 |
| **コスト、分析、指標** | **Data** | データアナリスト | データドリブンな改善提案 |
| **設計、アーキテクチャ** | **Architect** | システム設計者 | 拡張性・将来性を考慮した設計 |
| **UI、UX、デザイン** | **Designer** | UXデザイナー | ユーザビリティ最優先の改善 |

### **🚀 使い方（超シンプル）**

**普通に話すだけで、適切なペルソナが自動選択されます：**

```bash
# 運用・監視系
"エラーが出てるので調査してください" → SREペルソナ自動選択
"デプロイを自動化してください" → SREペルソナ自動選択

# セキュリティ系
"セキュリティチェックしてください" → Securityペルソナ自動選択
"認証周りを強化してください" → Securityペルソナ自動選択

# UI/UX系  
"UIをもっとかっこよくしてください" → Designerペルソナ自動選択
"ユーザビリティを改善してください" → Designerペルソナ自動選択

# コード品質系
"このコードをレビューしてください" → Reviewerペルソナ自動選択
"リファクタリングしてください" → Reviewerペルソナ自動選択

# データ分析系
"コストを分析してください" → Dataペルソナ自動選択
"パフォーマンスを改善してください" → Dataペルソナ自動選択

# 設計系
"システム設計を検討してください" → Architectペルソナ自動選択
"アーキテクチャを見直してください" → Architectペルソナ自動選択
```

### **💡 ペルソナの効果**

**❌ ペルソナなし**: 「UIを改善してください」
→ 一般的な提案

**✅ ペルソナあり**: 「UIを改善してください」
→ UXデザイナーとして、ユーザビリティテスト結果に基づく具体的改善案

**結果の差:**
- **具体性**: 3倍向上
- **専門性**: 5倍向上  
- **実用性**: 3倍向上

### **🔄 複合ペルソナも自動判定**

```bash
# 複数の観点が必要な場合
"セキュアで使いやすいログイン画面を作ってください"
→ Security + Designer ペルソナが自動統合

"高性能でコストを抑えたアーキテクチャを設計してください"
→ Architect + Data ペルソナが自動統合
```

### **🎯 実際の使用例**

#### **開発開始時**
```
"00_SuperClaude開発環境を参照して、セキュアなECサイトを作ってください"
→ Security + Architect ペルソナで安全性と拡張性を重視した実装
```

#### **既存改善時**
```
"00_SuperClaude開発環境を参照して、既存アプリのUIを現代的にしてください"
→ Designer ペルソナでユーザビリティを最優先にした改善
```

#### **問題対応時**
```
"00_SuperClaude開発環境を参照して、サーバーエラーを調査してください"
→ SRE ペルソナで運用観点からの徹底的な原因調査
```

---

**💡 迷ったら普通に話すだけ！SuperClaudeが最適な専門家として対応し、このファイルを参照して最高品質の開発を提供します。**